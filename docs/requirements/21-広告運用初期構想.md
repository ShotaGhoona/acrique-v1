# 広告運用初期構想

## 1. プロジェクト概要

ハイエンドアクリルブランド「ACRIQUE（アクリーク）」のローンチに伴い、広告運用を**CLIツールによるコード管理（IaC）**で自動化・高速化する。

手動運用では不可能な「大量のクリエイティブ検証」と「精密なターゲティング切り替え」を、エンジニアリングによって実現する。

## 2. 選定プラットフォームと役割

マーケティング戦略に基づき、以下の2媒体をCLIで一括管理する。

### Meta広告 (Instagram/Facebook)

- **役割**: 「視覚的衝撃」と「潜在層の発見」
- **狙い**: 「1cmの厚み」「光の屈折」などの高級感を動画・画像で伝え、店舗オーナーや推し活層の「欲しい」を喚起する

### Google広告 (検索リスティング)

- **役割**: 「指名検索」と「顕在層の刈り取り」
- **狙い**: 「アクリル板 オーダー 高級」「社名プレート 作成」などの検索ニーズを漏らさず獲得する

## 3. 技術スタック

### 言語: Python

両プラットフォームで公式SDKが提供されており、CLIツール開発に最適。

### 主要ライブラリ

| 用途 | ライブラリ |
|------|-----------|
| Meta広告 | `facebook-business` (公式SDK) |
| Google広告 | `google-ads` (公式SDK) |
| CLI構築 | `typer` |
| 設定管理 | `pydantic` + YAML |

※ typerはpydanticと同じ作者（tiangolo）で相性が良く、型ヒントベースでシンプルに記述可能

## 4. ディレクトリ構成

```
acrique-v1/
├── ... (既存ECサイト)
└── ads/
    ├── Dockerfile
    ├── compose.yaml
    ├── pyproject.toml
    │
    ├── src/
    │   ├── cli/              # typerコマンド
    │   ├── platforms/
    │   │   ├── base.py       # 共通インターフェース
    │   │   ├── meta.py
    │   │   └── google.py
    │   └── models/           # pydanticスキーマ
    │
    ├── environments/
    │   ├── production.yaml   # 本番アカウント設定
    │   └── sandbox.yaml      # テストアカウント設定
    │
    ├── campaigns/
    │   ├── meta/
    │   │   └── brand_awareness.yaml
    │   └── google/
    │       └── search_brand.yaml
    │
    └── assets/
        └── creatives/
```

### 各ディレクトリの役割

| ディレクトリ | 役割 |
|-------------|------|
| `src/` | CLIツールのソースコード |
| `environments/` | 環境別の認証・アカウント設定 |
| `campaigns/` | 広告設定をYAMLで管理（IaC）※環境非依存 |
| `assets/` | クリエイティブ素材を一元管理 |

## 5. 運用スタイル

**Terraformライクな宣言的管理**を採用。

```bash
# 差分確認（dry-run）
docker compose run ads plan --env sandbox

# sandbox環境にキャンペーン反映
docker compose run ads apply --env sandbox

# 特定キャンペーンのみ反映
docker compose run ads apply --env production campaigns/meta/brand_awareness.yaml
```

### 環境分離

| 環境 | 用途 |
|------|------|
| `sandbox` | テスト・検証用 |
| `production` | 本番配信用 |

キャンペーンYAMLは環境非依存で記述し、同じ定義をsandbox→productionに昇格できる設計。

## 6. フェーズ分け

### Phase 1（初期）
- キャンペーン作成・更新・削除
- 環境切り替え（sandbox/production）
- 基本的なCLIコマンド

### Phase 2（拡張）
- パフォーマンスレポート出力
- 大量クリエイティブの自動生成・検証
- A/Bテスト管理
