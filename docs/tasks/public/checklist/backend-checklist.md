# Backend タスクチェックリスト

ドメイン × レイヤー（オニオンアーキテクチャ）で管理

---

## 凡例

- [ ] 未着手
- ✅ 完了

レイヤー: **D**omain / **A**pplication / **I**nfrastructure / **P**resentation

---

## Auth（認証）

| タスク | D | A | I | P |
|--------|---|---|---|---|
| 会員登録 | ✅ | ✅ | ✅ | ✅ |
| ログイン | ✅ | ✅ | ✅ | ✅ |
| ログアウト | ✅ | ✅ | ✅ | ✅ |
| 認証状態確認 | ✅ | ✅ | ✅ | ✅ |
| パスワードリセット依頼 | ✅ | ✅ | ✅ | ✅ |
| パスワード再設定 | ✅ | ✅ | ✅ | ✅ |
| メール認証 | ✅ | ✅ | ✅ | ✅ |

---

## Users（ユーザー）

| タスク | D | A | I | P |
|--------|---|---|---|---|
| 自分の情報取得 | ✅ | ✅ | ✅ | ✅ |
| 自分の情報更新 | ✅ | ✅ | ✅ | ✅ |
| パスワード変更 | ✅ | ✅ | ✅ | ✅ |

---

## Addresses（配送先）

| タスク | D | A | I | P |
|--------|---|---|---|---|
| 配送先一覧 | ✅ | ✅ | ✅ | ✅ |
| 配送先追加 | ✅ | ✅ | ✅ | ✅ |
| 配送先詳細 | ✅ | ✅ | ✅ | ✅ |
| 配送先更新 | ✅ | ✅ | ✅ | ✅ |
| 配送先削除 | ✅ | ✅ | ✅ | ✅ |
| デフォルト設定 | ✅ | ✅ | ✅ | ✅ |

---

## Products（商品）

| タスク | D | A | I | P |
|--------|---|---|---|---|
| 商品一覧 | ✅ | ✅ | ✅ | ✅ |
| 商品詳細 | ✅ | ✅ | ✅ | ✅ |
| 商品オプション一覧 | ✅ | ✅ | ✅ | ✅ |
| 関連商品 | ✅ | ✅ | ✅ | ✅ |
| おすすめ商品 | ✅ | ✅ | ✅ | ✅ |
| 商品検索 | ✅ | ✅ | ✅ | ✅ |

---

## Cart（カート）

| タスク | D | A | I | P |
|--------|---|---|---|---|
| カート内容取得 | ✅ | ✅ | ✅ | ✅ |
| カートに追加 | ✅ | ✅ | ✅ | ✅ |
| カート商品更新 | ✅ | ✅ | ✅ | ✅ |
| カートから削除 | ✅ | ✅ | ✅ | ✅ |
| カートを空にする | ✅ | ✅ | ✅ | ✅ |

---

## Orders（注文）

| タスク | D | A | I | P |
|--------|---|---|---|---|
| 注文一覧 | ✅ | ✅ | ✅ | ✅ |
| 注文作成 | ✅ | ✅ | ✅ | ✅ |
| 注文詳細 | ✅ | ✅ | ✅ | ✅ |
| 注文キャンセル | ✅ | ✅ | ✅ | ✅ |

---

## Uploads（入稿）

| タスク | D | A | I | P |
|--------|---|---|---|---|
| 入稿データ一覧 | ✅ | ✅ | ✅ | ✅ |
| ファイルアップロード | ✅ | ✅ | ✅ | ✅ |
| 入稿データ詳細 | ✅ | ✅ | ✅ | ✅ |
| 入稿データ削除 | ✅ | ✅ | ✅ | ✅ |
| 注文への入稿 | ✅ | ✅ | ✅ | ✅ |

---

## Payments（決済）

| タスク | D | A | I | P |
|--------|---|---|---|---|
| PaymentIntent作成 | ✅ | ✅ | ✅ | ✅ |
| Stripe Webhook | ✅ | ✅ | ✅ | ✅ |

---

## Contact（お問い合わせ）

| タスク | D | A | I | P |
|--------|---|---|---|---|
| お問い合わせ送信 | [ ] | [ ] | [ ] | [ ] |

---

# Admin API

---

## Admin Auth（管理者認証）

| タスク | D | A | I | P |
|--------|---|---|---|---|
| 管理者ログイン | ✅ | ✅ | ✅ | ✅ |
| 管理者ログアウト | ✅ | ✅ | ✅ | ✅ |
| 認証状態確認 | ✅ | ✅ | ✅ | ✅ |

---

## Admin Dashboard（ダッシュボード）

| タスク | D | A | I | P |
|--------|---|---|---|---|
| ダッシュボード情報 | ✅ | ✅ | ✅ | ✅ |
| 売上統計 | ✅ | ✅ | ✅ | ✅ |

---

## Admin Orders（注文管理）

| タスク | D | A | I | P |
|--------|---|---|---|---|
| 注文一覧 | ✅ | ✅ | ✅ | ✅ |
| 注文詳細 | ✅ | ✅ | ✅ | ✅ |
| 注文更新 | ✅ | ✅ | ✅ | ✅ |
| ステータス更新 | ✅ | ✅ | ✅ | ✅ |
| 発送処理 | ✅ | ✅ | ✅ | ✅ |

---

## Admin Products（商品管理）

| タスク | D | A | I | P |
|--------|---|---|---|---|
| 商品一覧 | ✅ | ✅ | ✅ | ✅ |
| 商品追加 | ✅ | ✅ | ✅ | ✅ |
| 商品詳細 | ✅ | ✅ | ✅ | ✅ |
| 商品更新 | ✅ | ✅ | ✅ | ✅ |
| 商品削除 | ✅ | ✅ | ✅ | ✅ |
| 画像追加 | ✅ | ✅ | ✅ | ✅ |
| 画像削除 | ✅ | ✅ | ✅ | ✅ |
| オプション更新 | ✅ | ✅ | ✅ | ✅ |
| スペック更新 | ✅ | ✅ | ✅ | ✅ |
| 特長更新 | ✅ | ✅ | ✅ | ✅ |
| FAQ更新 | ✅ | ✅ | ✅ | ✅ |

---

## Admin Uploads（入稿管理）

| タスク | D | A | I | P |
|--------|---|---|---|---|
| 入稿データ一覧 | ✅ | ✅ | ✅ | ✅ |
| 入稿データ詳細 | ✅ | ✅ | ✅ | ✅ |
| 承認 | ✅ | ✅ | ✅ | ✅ |
| 差し戻し | ✅ | ✅ | ✅ | ✅ |

---

## Admin Users（顧客管理）

| タスク | D | A | I | P |
|--------|---|---|---|---|
| 顧客一覧 | ✅ | ✅ | ✅ | ✅ |
| 顧客詳細 | ✅ | ✅ | ✅ | ✅ |
| 顧客の注文履歴 | ✅ | ✅ | ✅ | ✅ |

---

## Admin Admins（管理者管理）

| タスク | D | A | I | P |
|--------|---|---|---|---|
| 管理者一覧 | ✅ | ✅ | ✅ | ✅ |
| 管理者追加 | ✅ | ✅ | ✅ | ✅ |
| 管理者更新 | ✅ | ✅ | ✅ | ✅ |
| 管理者削除 | ✅ | ✅ | ✅ | ✅ |

---

## Admin Logs（操作ログ）

| タスク | D | A | I | P |
|--------|---|---|---|---|
| 操作ログ一覧 | ✅ | ✅ | ✅ | ✅ |

---

## Admin Settings（サイト設定）

| タスク | D | A | I | P |
|--------|---|---|---|---|
| 設定取得 | [ ] | [ ] | [ ] | [ ] |
| 設定更新 | [ ] | [ ] | [ ] | [ ] |

---

# 共通基盤

| タスク | 状況 |
|--------|------|
| DB マイグレーション設定 | ✅ |
| 認証ミドルウェア | ✅ |
| 管理者認証ミドルウェア | ✅ |
| エラーハンドリング | ✅ |
| バリデーション共通処理 | ✅ |
| ロギング | ✅ |
| Stripe連携設定 | ✅ |
| S3連携設定 | ✅ |
| メール送信設定 | ✅ |

---

# リファクタリング

| タスク | 状況 | 備考 |
|--------|------|------|
| 税込価格への統一 | [ ] | 消費税計算ロジックを削除し、全ての価格を税込で扱うように変更。Cart等の`tax`フィールドを廃止 |
